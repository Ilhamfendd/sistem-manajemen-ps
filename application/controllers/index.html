<?php
defined('BASEPATH') OR exit('No direct script access allowed');

class Dashboard extends MY_Controller {

    public function __construct() {
        parent::__construct();
        $this->require_login(); $this->load->database(); } public function
index() { $data['title'] = 'Dashboard'; // Cek apakah tabel ada (hindari error)
if ($this->db->table_exists('customers')) { $data['total_customers'] =
$this->db->count_all('customers'); } else { $data['total_customers'] = 0; } if
($this->db->table_exists('consoles')) { $data['total_consoles'] =
$this->db->count_all('consoles'); $data['total_available'] =
$this->db->where('status', 'available')->count_all_results('consoles');
$data['total_in_use'] = $this->db->where('status',
'in_use')->count_all_results('consoles'); } else { $data['total_consoles'] = 0;
$data['total_available'] = 0; $data['total_in_use'] = 0; }
$this->load->view('dashboard/index', $data); } }
